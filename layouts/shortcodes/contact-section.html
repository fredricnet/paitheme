{{/* Contact Section Shortcode
Reads from data/contact.yaml
Parameters:
- title: Section title (optional)
- subtitle: Section subtitle (optional)
- tag-text: Text for the tag badge (optional)
- tag-icon: Icon type for tag badge (optional, default: "star")
- tag-icon-count: Number of icons in tag badge (optional, default: 5)
- tag-icon-color: Color of tag icons (optional, default: "#3b82f6")
- published: Whether to render this section (optional, default: "true")
*/}}
{{- $published := .Get "published" | default "true" -}}
{{- if ne $published "false" -}}
{{- $title := .Get "title" -}}
{{- $subtitle := .Get "subtitle" -}}

<section class="contact-section" style="padding: 6rem 0;">
    <div class="container">
        <div class="contact-header" style="text-align: center; margin-bottom: 4rem;">
            {{- partial "tag-badge.html" (dict "text" (.Get "tag-text") "icon" (.Get "tag-icon") "count" (.Get
            "tag-icon-count") "color" (.Get "tag-icon-color")) -}}

            {{- if $title -}}
            <h2 class="section-title">{{ $title }}</h2>
            {{- end -}}
            {{- if $subtitle -}}
            <p class="section-subtitle">{{ $subtitle }}</p>
            {{- end -}}
        </div>

        <div class="contact-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: start;">
            <!-- Contact Info -->
            <div class="contact-info">
                <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">{{ site.Data.contact.info.title }}</h3>
                <p style="color: var(--text-muted); margin-bottom: 2rem;">{{ site.Data.contact.info.description }}</p>

                <div class="contact-details"
                    style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 3rem;">
                    <div class="contact-detail-item">
                        <strong style="display: block; color: var(--text-color); margin-bottom: 0.25rem;">Email</strong>
                        <a href="mailto:{{ site.Data.contact.info.email }}"
                            style="color: var(--primary-color); text-decoration: none;">{{ site.Data.contact.info.email
                            }}</a>
                    </div>
                    <div class="contact-detail-item">
                        <strong style="display: block; color: var(--text-color); margin-bottom: 0.25rem;">Phone</strong>
                        <a href="tel:{{ site.Data.contact.info.phone }}"
                            style="color: var(--primary-color); text-decoration: none;">{{ site.Data.contact.info.phone
                            }}</a>
                    </div>
                </div>

                <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Global Offices</h3>
                <div class="locations-grid" style="display: grid; gap: 1.5rem;">
                    {{- range site.Data.contact.info.locations -}}
                    <div class="location-item">
                        <strong style="display: block; color: var(--text-color);">{{ .city }}</strong>
                        <span style="color: var(--text-muted);">{{ .address }}</span>
                    </div>
                    {{- end -}}
                </div>
            </div>

            <!-- Contact Form -->
            <div class="contact-form-wrapper"
                style="background: var(--bg-card); padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border-color);">
                <h3 style="font-size: 1.5rem; margin-bottom: 0.5rem;">{{ site.Data.contact.form.title }}</h3>
                <p style="color: var(--text-muted); margin-bottom: 2rem;">{{ site.Data.contact.form.subtitle }}</p>

                <form class="contact-form" style="display: flex; flex-direction: column; gap: 1.5rem;">
                    <div class="form-group">
                        <label for="name"
                            style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem;">Name</label>
                        <input type="text" id="name" name="name"
                            style="width: 100%; padding: 0.75rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-color);"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="email" style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem;">Work
                            Email</label>
                        <input type="email" id="email" name="email"
                            style="width: 100%; padding: 0.75rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-color);"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="message"
                            style="display: block; margin-bottom: 0.5rem; font-size: 0.875rem;">Message</label>
                        <textarea id="message" name="message" rows="4"
                            style="width: 100%; padding: 0.75rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-color);"
                            required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">Send Message</button>
                </form>
            </div>
        </div>
    </div>
</section>
{{- end -}}