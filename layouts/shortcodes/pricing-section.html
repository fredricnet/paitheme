{{/* Pricing Section Shortcode
Reads from data/pricing.yaml
Parameters:
- title: Section title (optional)
- subtitle: Section subtitle (optional)
- tag-text: Text for the tag badge (optional)
- tag-icon: Icon type for tag badge (optional, default: "star")
- tag-icon-count: Number of icons in tag badge (optional, default: 5)
- tag-icon-color: Color of tag icons (optional, default: "#3b82f6")
- published: Whether to render this section (optional, default: "true")
*/}}
{{- $published := .Get "published" | default "true" -}}
{{- if ne $published "false" -}}
{{- $title := .Get "title" -}}
{{- $subtitle := .Get "subtitle" -}}

<section class="pricing-section">
    <div class="container">
        <div class="pricing-header">
            {{- partial "tag-badge.html" (dict "text" (.Get "tag-text") "icon" (.Get "tag-icon") "count" (.Get
            "tag-icon-count") "color" (.Get "tag-icon-color")) -}}

            {{- if $title -}}
            <h2 class="section-title">{{ $title }}</h2>
            {{- end -}}
            {{- if $subtitle -}}
            <p class="section-subtitle">{{ $subtitle }}</p>
            {{- end -}}
        </div>

        <div class="pricing-grid">
            {{- range site.Data.pricing.plans -}}
            <div class="pricing-card {{ if .popular }}pricing-card-popular{{ end }}">
                {{- if .popular -}}
                <div class="popular-badge">Most Popular</div>
                {{- end -}}
                <div class="pricing-card-header">
                    <h3 class="pricing-plan-name">{{ .name }}</h3>
                    <div class="pricing-price">
                        <span class="price-amount">{{ .price }}</span>
                    </div>
                    <p class="pricing-description">{{ .description }}</p>
                </div>
                <ul class="pricing-features">
                    {{- range .features -}}
                    <li>{{ . }}</li>
                    {{- end -}}
                </ul>
                <a href="{{ .cta_link }}" class="btn btn-primary btn-block">{{ .cta_text }}</a>
            </div>
            {{- end -}}
        </div>
    </div>
</section>
{{- end -}}