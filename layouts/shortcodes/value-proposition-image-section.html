{{/* Value Proposition Image Section Shortcode - Creates the image section with layered backgrounds and header
  Parameters:
  - title: Header title (optional)
  - description: Header description (optional)
  - background-image: Path to background image (deprecated - now uses bg-css gradients)
  - foreground-image: Path to foreground image (optional, default: "/images/homepage/dashboard/dashboard-frontground.webp")
  - main-image: Path to main dashboard image (optional, default: "/images/homepage/dashboard/dashboard.webp")
  - main-image-alt: Alt text for main image (optional, default: "Performance product interface showing connected banks")
  - tag-text: Text for the tag badge (optional, e.g., "real results")
  - tag-icon: Icon type for tag badge (optional, default: "star")
  - tag-icon-count: Number of icons in tag badge (optional, default: 5)
  - tag-icon-color: Color of tag icons (optional, default: "#3b82f6")
  - published: Whether to render this section (optional, default: "true")
  
  Usage:
  value-proposition-image-section title="See Every Dollar..." description="Our unified dashboard..." main-image="/images/homepage/dashboard/dashboard.webp"
*/}}
{{- $published := .Get "published" | default "true" -}}
{{- if ne $published "false" -}}
{{- $title := .Get "title" -}}
{{- $description := .Get "description" -}}
{{- $bgImage := .Get "background-image" -}}
{{- $fgImage := .Get "foreground-image" | default "/images/homepage/dashboard/dashboard-frontground.webp" -}}
{{- $mainImage := .Get "main-image" | default "/images/homepage/dashboard/dashboard.webp" -}}
{{- $mainImageAlt := .Get "main-image-alt" | default "Performance product interface showing connected banks" -}}
{{- $tagText := .Get "tag-text" -}}
{{- $tagIcon := .Get "tag-icon" | default "star" -}}
{{- $tagIconCount := .Get "tag-icon-count" | default 5 -}}
{{- $tagIconColor := .Get "tag-icon-color" | default "#3b82f6" -}}

<section class="value-proposition-section">
    <div class="container">
        <div class="value-proposition-content">
            {{- if or $title $description -}}
            <div class="value-proposition-header">
                {{- if $tagText -}}
                {{- $firstChar := substr $tagText 0 1 | upper -}}
                {{- $rest := substr $tagText 1 -}}
                {{- $capitalizedText := printf "%s%s" $firstChar $rest -}}
                <div class="testimonials-stars-wrapper" style="margin-bottom: 1.5rem;">
                    <div class="border-animation">
                        <div class="border-animation-inner testimonials-stars">
                            {{- range seq $tagIconCount -}}
                            {{- if eq $tagIcon "star" -}}
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="{{ $tagIconColor }}" stroke="{{ $tagIconColor }}" stroke-width="2">
                                <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                            </svg>
                            {{- end -}}
                            {{- end -}}
                            <span class="testimonials-label">{{ $capitalizedText }}</span>
                        </div>
                    </div>
                </div>
                {{- end -}}
                {{- if $title -}}
                <h2 class="value-proposition-title">{{ $title }}</h2>
                {{- end -}}
                {{- if $description -}}
                <p class="value-proposition-description">{{ $description }}</p>
                {{- end -}}
            </div>
            {{- end -}}
            
            <div class="value-proposition-image">
                <div class="value-proposition-image-bg">
                    {{- /* Background now uses CSS gradients instead of image */ -}}
                </div>
                <div class="value-proposition-image-fg">
                    <img src="{{ $fgImage }}" alt="hero foreground" class="value-proposition-fg-image" />
                </div>
                <div class="value-proposition-image-content">
                    <div class="value-proposition-image-wrapper">
                        <img src="{{ $mainImage }}" alt="{{ $mainImageAlt }}" class="value-proposition-main-image" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{{- end -}}

